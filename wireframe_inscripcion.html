<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscripción — Formulario Multi-Paso</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
            color: #334155;
            min-height: 100vh;
        }

        .step-pill {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 9999px;
            font-size: 0.78rem;
            font-weight: 700;
            border: 2px solid #cbd5e1;
            background: #fff;
            color: #94a3b8;
            transition: all .3s;
            flex-shrink: 0;
        }

        .step-pill.active {
            background: #2563eb;
            border-color: #2563eb;
            color: #fff;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, .18);
        }

        .step-pill.done {
            background: #22c55e;
            border-color: #22c55e;
            color: #fff;
        }

        .step-connector {
            flex: 1;
            height: 2px;
            background: #e2e8f0;
            transition: background .3s;
        }

        .step-connector.done {
            background: #22c55e;
        }

        .form-label {
            display: block;
            font-size: 0.8rem;
            font-weight: 600;
            color: #475569;
            margin-bottom: 0.4rem;
            letter-spacing: .01em;
        }

        .form-hint {
            display: block;
            font-size: 0.72rem;
            color: #94a3b8;
            margin-top: 0.3rem;
        }

        .optional-badge {
            font-size: 0.65rem;
            font-weight: 500;
            color: #94a3b8;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            padding: 1px 6px;
            margin-left: 6px;
            vertical-align: middle;
            text-transform: uppercase;
            letter-spacing: .04em;
        }

        .heredado-badge {
            font-size: 0.6rem;
            font-weight: 600;
            color: #059669;
            background: #d1fae5;
            border: 1px solid #34d399;
            border-radius: 4px;
            padding: 2px 8px;
            margin-left: 8px;
            vertical-align: middle;
            text-transform: uppercase;
            letter-spacing: .03em;
        }

        .form-input {
            width: 100%;
            padding: 0.6rem 0.85rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            background: #fff;
            font-size: 0.92rem;
            color: #1e293b;
            transition: border-color .2s, box-shadow .2s;
            appearance: none;
        }

        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, .18);
        }

        .form-input.readonly {
            background: #f1f5f9;
            border-color: #e2e8f0;
            color: #64748b;
            cursor: not-allowed;
        }

        .form-input.readonly:focus {
            box-shadow: none;
            border-color: #e2e8f0;
        }

        select.form-input {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            padding-right: 2.2rem;
        }

        .sub-section {
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background: #fff;
        }

        .sub-section:last-child {
            margin-bottom: 0;
        }

        .sub-section-title {
            font-size: 0.78rem;
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: .08em;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toggle-switch {
            position: relative;
            width: 46px;
            height: 26px;
            flex-shrink: 0;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-switch .slider {
            position: absolute;
            inset: 0;
            background: #cbd5e1;
            border-radius: 9999px;
            cursor: pointer;
            transition: .3s;
        }

        .toggle-switch .slider:before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            left: 3px;
            top: 3px;
            background: #fff;
            border-radius: 50%;
            transition: .3s;
        }

        .toggle-switch input:checked+.slider {
            background: #2563eb;
        }

        .toggle-switch input:checked+.slider:before {
            transform: translateX(20px);
        }

        .btn-next {
            background: #2563eb;
            color: #fff;
            font-weight: 700;
            padding: 0.75rem 2rem;
            border-radius: 0.65rem;
            border: none;
            cursor: pointer;
            font-size: 0.92rem;
            transition: background .2s, transform .15s;
            box-shadow: 0 4px 14px rgba(37, 99, 235, .25);
        }

        .btn-next:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        .btn-prev {
            background: #fff;
            color: #475569;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.65rem;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            font-size: 0.92rem;
            transition: border-color .2s;
        }

        .btn-prev:hover {
            border-color: #94a3b8;
        }

        .btn-submit {
            background: #16a34a;
            color: #fff;
            font-weight: 700;
            padding: 0.85rem 2.5rem;
            border-radius: 0.65rem;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: background .2s, transform .15s;
            box-shadow: 0 4px 14px rgba(22, 163, 74, .28);
        }

        .btn-submit:hover {
            background: #15803d;
            transform: translateY(-1px);
        }

        .step-panel {
            display: none;
        }

        .step-panel.active {
            display: block;
        }

        .radio-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            cursor: pointer;
            font-size: 0.88rem;
            color: #334155;
        }

        .radio-option input[type=radio] {
            width: 1rem;
            height: 1rem;
            accent-color: #2563eb;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .checkbox-option {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            cursor: pointer;
            font-size: 0.88rem;
            color: #334155;
        }

        .checkbox-option input[type=checkbox] {
            width: 1.1rem;
            height: 1.1rem;
            accent-color: #2563eb;
            margin-top: 1px;
        }

        .resumen-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }

        .resumen-card h4 {
            font-size: 0.8rem;
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: .05em;
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .resumen-item {
            display: flex;
            justify-content: space-between;
            padding: 0.35rem 0;
            font-size: 0.85rem;
        }

        .resumen-item .label {
            color: #64748b;
        }

        .resumen-item .value {
            color: #1e293b;
            font-weight: 500;
            text-align: right;
            max-width: 60%;
        }
    </style>
</head>

<body class="py-10 px-4">

    <div class="max-w-3xl mx-auto">

        <!-- Header -->
        <div class="mb-8 text-center">
            <h1 class="text-2xl font-extrabold text-slate-900 tracking-tight">Formulario de Inscripción</h1>
            <p class="text-slate-500 mt-1 text-sm">Complete todos los pasos para formalizar la inscripción escolar.
            </p>
        </div>

        <!-- Progress Bar -->
        <div class="bg-white border border-slate-200 rounded-2xl px-6 py-4 mb-8 shadow-sm">
            <div class="flex items-center" id="progress-bar">
            </div>
            <p class="text-center text-xs text-slate-400 mt-3" id="step-label">Paso 1 de 5</p>
        </div>

        <!-- Form Card -->
        <div class="bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden">
            <form id="multi-step-form" novalidate onsubmit="return false;">

                <!-- ====================== -->
                <!-- PASO 1: DATOS ESTUDIANTE -->
                <!-- ====================== -->
                <div id="step-1" class="step-panel active p-6 md:p-8">
                    <h2 class="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                        <svg class="h-5 w-5 text-sky-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        Datos del Estudiante
                    </h2>
                    <p class="text-xs text-slate-500 mb-6">Información personal del aluno. Los datos heredados de la solicitud de cupo están marcados.</p>

                    <!-- Identificación (heredados) -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0" />
                            </svg>
                            Identificación
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label class="form-label">Nombres Completos <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="asp_nombres" name="asp_nombres" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Apellidos Completos <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="asp_apellidos" name="asp_apellidos" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Fecha de Nacimiento <span class="heredado-badge">Heredado</span></label>
                                <input type="date" id="asp_fecha_nac" name="asp_fecha_nac" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Edad</label>
                                <input type="text" id="asp_edad" name="asp_edad" class="form-input" readonly placeholder="Se calculará automáticamente">
                            </div>
                            <div>
                                <label class="form-label">Sexo <span class="heredado-badge">Heredado</span></label>
                                <div class="radio-group mt-2">
                                    <label class="radio-option">
                                        <input type="radio" name="asp_sexo" value="M" disabled> Masculino
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="asp_sexo" value="F" disabled> Femenino
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lugar de nacimiento -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            Lugar de Nacimiento
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label for="asp_pais_nac" class="form-label">País de Nacimiento</label>
                                <select id="asp_pais_nac" name="asp_pais_nac" class="form-input">
                                    <option value="" disabled selected>Seleccione...</option>
                                    <option value="VE">Venezuela</option>
                                    <option value="CO">Colombia</option>
                                    <option value="EC">Ecuador</option>
                                    <option value="PE">Perú</option>
                                    <option value="AR">Argentina</option>
                                    <option value="BR">Brasil</option>
                                    <option value="CL">Chile</option>
                                    <option value="MX">México</option>
                                    <option value="US">Estados Unidos</option>
                                    <option value="ES">España</option>
                                    <option value="OT">Otro</option>
                                </select>
                            </div>
                            <div>
                                <label for="asp_ciudad_nac" class="form-label">Ciudad de Nacimiento</label>
                                <input type="text" id="asp_ciudad_nac" name="asp_ciudad_nac" class="form-input">
                            </div>
                            <div class="sm:col-span-2">
                                <label for="asp_otras_nacionalidades" class="form-label">Otras Nacionalidades <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="asp_otras_nacionalidades" name="asp_otras_nacionalidades" class="form-input" placeholder="Ej: Colombiano, Español">
                            </div>
                        </div>
                    </div>

                    <!-- Idiomas -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                            </svg>
                            Idiomas
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div class="sm:col-span-2">
                                <label for="asp_idiomas" class="form-label">Idiomas que habla <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="asp_idiomas" name="asp_idiomas" class="form-input" placeholder="Ej: Español, Inglés">
                                <span class="form-hint">Separe los idiomas con coma</span>
                            </div>
                        </div>
                    </div>

                    <!-- Dirección -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            Dirección de Habitación
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div class="sm:col-span-2">
                                <label for="asp_direccion" class="form-label">Dirección</label>
                                <input type="text" id="asp_direccion" name="asp_direccion" class="form-input">
                                <span class="form-hint">Urb., Calle, Edificio / Casa, Piso</span>
                            </div>
                            <div>
                                <label for="asp_codigo_postal" class="form-label">Código Postal <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="asp_codigo_postal" name="asp_codigo_postal" class="form-input">
                            </div>
                            <div>
                                <label for="asp_ciudad" class="form-label">Ciudad</label>
                                <input type="text" id="asp_ciudad" name="asp_ciudad" class="form-input">
                            </div>
                            <div>
                                <label for="asp_municipio" class="form-label">Municipio</label>
                                <input type="text" id="asp_municipio" name="asp_municipio" class="form-input">
                            </div>
                            <div>
                                <label for="asp_estado" class="form-label">Estado</label>
                                <input type="text" id="asp_estado" name="asp_estado" class="form-input">
                            </div>
                            <div>
                                <label for="asp_pais" class="form-label">País</label>
                                <select id="asp_pais" name="asp_pais" class="form-input">
                                    <option value="" disabled selected>Seleccione...</option>
                                    <option value="VE" selected>Venezuela</option>
                                    <option value="CO">Colombia</option>
                                    <option value="EC">Ecuador</option>
                                    <option value="PE">Perú</option>
                                    <option value="AR">Argentina</option>
                                    <option value="BR">Brasil</option>
                                    <option value="CL">Chile</option>
                                    <option value="MX">México</option>
                                    <option value="US">Estados Unidos</option>
                                    <option value="ES">España</option>
                                    <option value="OT">Otro</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Teléfonos -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.04 11.04 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            Teléfonos
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label for="asp_tlf_hab" class="form-label">Teléfono de Habitación <span class="optional-badge">Opcional</span></label>
                                <input type="tel" id="asp_tlf_hab" name="asp_tlf_hab" class="form-input" placeholder="Ej: 0212-1234567">
                            </div>
                            <div>
                                <label for="asp_celular" class="form-label">Teléfono Celular</label>
                                <input type="tel" id="asp_celular" name="asp_celular" class="form-input" placeholder="Ej: 0414-1234567">
                            </div>
                        </div>
                    </div>

                    <!-- Información Académica -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path d="M12 14l9-5-9-5-9 5 9 5z" />
                                <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                            </svg>
                            Información Académica
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label class="form-label">Grado / Año a Cursar <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="asp_grado" name="asp_grado" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label for="asp_anio_escolar" class="form-label">Año Escolar</label>
                                <select id="asp_anio_escolar" name="asp_anio_escolar" class="form-input">
                                    <option value="" disabled selected>Seleccione...</option>
                                    <option value="2025-2026">2025-2026</option>
                                    <option value="2026-2027">2026-2027</option>
                                    <option value="2027-2028">2027-2028</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ======================== -->
                <!-- PASO 2: REP. PRINCIPAL   -->
                <!-- ======================== -->
                <div id="step-2" class="step-panel p-6 md:p-8">
                    <h2 class="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                        <svg class="h-5 w-5 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        Representante Principal
                    </h2>
                    <p class="text-xs text-slate-500 mb-6">Datos del representante principal. Los datos heredados de la solicitud de cupo están marcados.</p>

                    <!-- Identificación (heredados) -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0" />
                            </svg>
                            Identificación
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div class="sm:col-span-2">
                                <label class="form-label">Cédula de Identidad <span class="heredado-badge">Heredado</span></label>
                                <div class="flex gap-2">
                                    <select id="rep1_nacionalidad" name="rep1_nacionalidad" class="form-input readonly" style="width:90px;flex-shrink:0" disabled>
                                        <option value="V">V</option>
                                        <option value="E">E</option>
                                        <option value="P">P</option>
                                    </select>
                                    <div class="flex-1">
                                        <input type="text" id="rep1_cedula" name="rep1_cedula" class="form-input readonly" readonly>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="form-label">Nombres Completos <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="rep1_nombres" name="rep1_nombres" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Apellidos Completos <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="rep1_apellidos" name="rep1_apellidos" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Fecha de Nacimiento <span class="heredado-badge">Heredado</span></label>
                                <input type="date" id="rep1_fecha_nac" name="rep1_fecha_nac" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label for="rep1_edad" class="form-label">Edad</label>
                                <input type="text" id="rep1_edad" name="rep1_edad" class="form-input" readonly placeholder="Se calculará automáticamente">
                            </div>
                            <div>
                                <label for="rep1_sexo" class="form-label">Sexo</label>
                                <div class="radio-group mt-2">
                                    <label class="radio-option">
                                        <input type="radio" name="rep1_sexo" value="M"> Masculino
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="rep1_sexo" value="F"> Femenino
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lugar de nacimiento -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            Lugar de Nacimiento
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label for="rep1_pais_nac" class="form-label">País de Nacimiento</label>
                                <select id="rep1_pais_nac" name="rep1_pais_nac" class="form-input">
                                    <option value="" disabled selected>Seleccione...</option>
                                    <option value="VE">Venezuela</option>
                                    <option value="CO">Colombia</option>
                                    <option value="EC">Ecuador</option>
                                    <option value="PE">Perú</option>
                                    <option value="AR">Argentina</option>
                                    <option value="BR">Brasil</option>
                                    <option value="CL">Chile</option>
                                    <option value="MX">México</option>
                                    <option value="US">Estados Unidos</option>
                                    <option value="ES">España</option>
                                    <option value="OT">Otro</option>
                                </select>
                            </div>
                            <div>
                                <label for="rep1_ciudad_nac" class="form-label">Ciudad de Nacimiento</label>
                                <input type="text" id="rep1_ciudad_nac" name="rep1_ciudad_nac" class="form-input">
                            </div>
                            <div class="sm:col-span-2">
                                <label for="rep1_otras_nacionalidades" class="form-label">Otras Nacionalidades <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="rep1_otras_nacionalidades" name="rep1_otras_nacionalidades" class="form-input">
                            </div>
                        </div>
                    </div>

                    <!-- Idiomas -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                            </svg>
                            Idiomas
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div class="sm:col-span-2">
                                <label for="rep1_idiomas" class="form-label">Idiomas que habla <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="rep1_idiomas" name="rep1_idiomas" class="form-input" placeholder="Ej: Español, Inglés">
                            </div>
                        </div>
                    </div>

                    <!-- Dirección -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            Dirección de Habitación
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div class="sm:col-span-2">
                                <label class="form-label">Dirección <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="rep1_direccion" name="rep1_direccion" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label for="rep1_codigo_postal" class="form-label">Código Postal <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="rep1_codigo_postal" name="rep1_codigo_postal" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_municipio" class="form-label">Municipio</label>
                                <input type="text" id="rep1_municipio" name="rep1_municipio" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_estado" class="form-label">Estado</label>
                                <input type="text" id="rep1_estado" name="rep1_estado" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_pais" class="form-label">País</label>
                                <select id="rep1_pais" name="rep1_pais" class="form-input">
                                    <option value="" disabled selected>Seleccione...</option>
                                    <option value="VE" selected>Venezuela</option>
                                    <option value="CO">Colombia</option>
                                    <option value="EC">Ecuador</option>
                                    <option value="PE">Perú</option>
                                    <option value="AR">Argentina</option>
                                    <option value="BR">Brasil</option>
                                    <option value="CL">Chile</option>
                                    <option value="MX">México</option>
                                    <option value="US">Estados Unidos</option>
                                    <option value="ES">España</option>
                                    <option value="OT">Otro</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Teléfonos y Correo -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.04 11.04 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            Teléfonos y Correo
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label class="form-label">Teléfono de Habitación <span class="heredado-badge">Heredado</span></label>
                                <input type="tel" id="rep1_tlf_hab" name="rep1_tlf_hab" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Teléfono Celular <span class="heredado-badge">Heredado</span></label>
                                <input type="tel" id="rep1_celular" name="rep1_celular" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Correo Electrónico <span class="heredado-badge">Heredado</span></label>
                                <input type="email" id="rep1_correo" name="rep1_correo" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label for="rep1_religion" class="form-label">Religión <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="rep1_religion" name="rep1_religion" class="form-input" placeholder="Ej: Católica, Cristiana">
                            </div>
                        </div>
                    </div>

                    <!-- Datos Laborales -->
                    <div class="sub-section">
                        <p class="sub-section-title">
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            Información Laboral
                        </p>
                        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                            <div>
                                <label for="rep1_profesion" class="form-label">Profesión</label>
                                <input type="text" id="rep1_profesion" name="rep1_profesion" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_ocupacion" class="form-label">Ocupación</label>
                                <input type="text" id="rep1_ocupacion" name="rep1_ocupacion" class="form-input">
                            </div>
                            <div>
                                <label class="form-label">Empresa donde trabaja <span class="heredado-badge">Heredado</span></label>
                                <input type="text" id="rep1_empresa" name="rep1_empresa" class="form-input readonly" readonly>
                            </div>
                            <div>
                                <label class="form-label">Teléfono del Trabajo <span class="heredado-badge">Heredado</span></label>
                                <input type="tel" id="rep1_tlf_ofic" name="rep1_tlf_ofic" class="form-input readonly" readonly placeholder="Ej: 0212-9876543">
                            </div>
                            <div class="sm:col-span-2">
                                <label for="rep1_dir_trabajo" class="form-label">Dirección del Trabajo</label>
                                <input type="text" id="rep1_dir_trabajo" name="rep1_dir_trabajo" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_cp_trabajo" class="form-label">Código Postal del Trabajo <span class="optional-badge">Opcional</span></label>
                                <input type="text" id="rep1_cp_trabajo" name="rep1_cp_trabajo" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_ciudad_trabajo" class="form-label">Ciudad del Trabajo</label>
                                <input type="text" id="rep1_ciudad_trabajo" name="rep1_ciudad_trabajo" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_estado_trabajo" class="form-label">Estado del Trabajo</label>
                                <input type="text" id="rep1_estado_trabajo" name="rep1_estado_trabajo" class="form-input">
                            </div>
                            <div>
                                <label for="rep1_pais_trabajo" class="form-label">País del Trabajo</label>
                                <select id="rep1_pais_trabajo" name="rep1_pais_trabajo" class="form-input">
                                    <option value="" disabled selected>Seleccione...</option>
                                    <option value="VE" selected>Venezuela</option>
                                    <option value="CO">Colombia</option>
                                    <option value="EC">Ecuador</option>
                                    <option value="PE">Perú</option>
                                    <option value="AR">Argentina</option>
                                    <option value="BR">Brasil</option>
                                    <option value="CL">Chile</option>
                                    <option value="MX">México</option>
                                    <option value="US">Estados Unidos</option>
                                    <option value="ES">España</option>
                                    <option value="OT">Otro</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ======================== -->
                <!-- PASO 3: REP. SECUNDARIO  -->
                <!-- ======================== -->
                <div id="step-3" class="step-panel p-6 md:p-8">
                    <h2 class="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                        <svg class="h-5 w-5 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        Segundo Representante
                        <span class="optional-badge">Opcional</span>
                    </h2>
                    <p class="text-xs text-slate-500 mb-6">Agregue los datos del padre o madre si desea que ambos consten en el expediente del alumno.</p>

                    <!-- Toggle -->
                    <div class="flex items-center gap-4 p-4 bg-slate-50 border border-slate-200 rounded-xl mb-6">
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-rep2" onchange="toggleRep2(this.checked)">
                            <span class="slider"></span>
                        </label>
                        <div>
                            <p class="text-sm font-semibold text-slate-700">Registrar segundo representante</p>
                            <p class="text-xs text-slate-500 mt-0.5">Por ejemplo, el padre si quien llena este formulario es la madre (o viceversa).</p>
                        </div>
                    </div>

                    <!-- Fields (hidden by default) -->
                    <div id="rep2-fields" class="hidden">
                        <!-- Identificación -->
                        <div class="sub-section">
                            <p class="sub-section-title">
                                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0" />
                                </svg>
                                Identificación
                            </p>
                            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                                <div class="sm:col-span-2">
                                    <label class="form-label">Cédula de Identidad <span class="heredado-badge">Heredado</span></label>
                                    <div class="flex gap-2">
                                        <select id="rep2_nacionalidad" name="rep2_nacionalidad" class="form-input readonly" style="width:90px;flex-shrink:0" disabled>
                                            <option value="V">V</option>
                                            <option value="E">E</option>
                                            <option value="P">P</option>
                                        </select>
                                        <div class="flex-1">
                                            <input type="text" id="rep2_cedula" name="rep2_cedula" class="form-input readonly" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <label class="form-label">Nombres Completos <span class="heredado-badge">Heredado</span></label>
                                    <input type="text" id="rep2_nombres" name="rep2_nombres" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label class="form-label">Apellidos Completos <span class="heredado-badge">Heredado</span></label>
                                    <input type="text" id="rep2_apellidos" name="rep2_apellidos" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label class="form-label">Fecha de Nacimiento <span class="heredado-badge">Heredado</span></label>
                                    <input type="date" id="rep2_fecha_nac" name="rep2_fecha_nac" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label for="rep2_edad" class="form-label">Edad</label>
                                    <input type="text" id="rep2_edad" name="rep2_edad" class="form-input" readonly placeholder="Se calculará automáticamente">
                                </div>
                                <div>
                                    <label for="rep2_sexo" class="form-label">Sexo</label>
                                    <div class="radio-group mt-2">
                                        <label class="radio-option">
                                            <input type="radio" name="rep2_sexo" value="M"> Masculino
                                        </label>
                                        <label class="radio-option">
                                            <input type="radio" name="rep2_sexo" value="F"> Femenino
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lugar de nacimiento -->
                        <div class="sub-section">
                            <p class="sub-section-title">
                                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                Lugar de Nacimiento
                            </p>
                            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                                <div>
                                    <label for="rep2_pais_nac" class="form-label">País de Nacimiento</label>
                                    <select id="rep2_pais_nac" name="rep2_pais_nac" class="form-input">
                                        <option value="" disabled selected>Seleccione...</option>
                                        <option value="VE">Venezuela</option>
                                        <option value="CO">Colombia</option>
                                        <option value="EC">Ecuador</option>
                                        <option value="PE">Perú</option>
                                        <option value="AR">Argentina</option>
                                        <option value="BR">Brasil</option>
                                        <option value="CL">Chile</option>
                                        <option value="MX">México</option>
                                        <option value="US">Estados Unidos</option>
                                        <option value="ES">España</option>
                                        <option value="OT">Otro</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="rep2_ciudad_nac" class="form-label">Ciudad de Nacimiento</label>
                                    <input type="text" id="rep2_ciudad_nac" name="rep2_ciudad_nac" class="form-input">
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="rep2_otras_nacionalidades" class="form-label">Otras Nacionalidades <span class="optional-badge">Opcional</span></label>
                                    <input type="text" id="rep2_otras_nacionalidades" name="rep2_otras_nacionalidades" class="form-input">
                                </div>
                            </div>
                        </div>

                        <!-- Idiomas -->
                        <div class="sub-section">
                            <p class="sub-section-title">
                                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                                </svg>
                                Idiomas
                            </p>
                            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                                <div class="sm:col-span-2">
                                    <label for="rep2_idiomas" class="form-label">Idiomas que habla <span class="optional-badge">Opcional</span></label>
                                    <input type="text" id="rep2_idiomas" name="rep2_idiomas" class="form-input" placeholder="Ej: Español, Inglés">
                                </div>
                            </div>
                        </div>

                        <!-- Dirección -->
                        <div class="sub-section">
                            <p class="sub-section-title">
                                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                Dirección de Habitación
                            </p>
                            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                                <div class="sm:col-span-2">
                                    <label class="form-label">Dirección <span class="heredado-badge">Heredado</span></label>
                                    <input type="text" id="rep2_direccion" name="rep2_direccion" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label for="rep2_codigo_postal" class="form-label">Código Postal <span class="optional-badge">Opcional</span></label>
                                    <input type="text" id="rep2_codigo_postal" name="rep2_codigo_postal" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_municipio" class="form-label">Municipio</label>
                                    <input type="text" id="rep2_municipio" name="rep2_municipio" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_estado" class="form-label">Estado</label>
                                    <input type="text" id="rep2_estado" name="rep2_estado" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_pais" class="form-label">País</label>
                                    <select id="rep2_pais" name="rep2_pais" class="form-input">
                                        <option value="" disabled selected>Seleccione...</option>
                                        <option value="VE" selected>Venezuela</option>
                                        <option value="CO">Colombia</option>
                                        <option value="EC">Ecuador</option>
                                        <option value="PE">Perú</option>
                                        <option value="AR">Argentina</option>
                                        <option value="BR">Brasil</option>
                                        <option value="CL">Chile</option>
                                        <option value="MX">México</option>
                                        <option value="US">Estados Unidos</option>
                                        <option value="ES">España</option>
                                        <option value="OT">Otro</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Teléfonos y Correo -->
                        <div class="sub-section">
                            <p class="sub-section-title">
                                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.04 11.04 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                </svg>
                                Teléfonos y Correo
                            </p>
                            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                                <div>
                                    <label class="form-label">Teléfono de Habitación <span class="heredado-badge">Heredado</span></label>
                                    <input type="tel" id="rep2_tlf_hab" name="rep2_tlf_hab" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label class="form-label">Teléfono Celular <span class="heredado-badge">Heredado</span></label>
                                    <input type="tel" id="rep2_celular" name="rep2_celular" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label class="form-label">Correo Electrónico <span class="heredado-badge">Heredado</span></label>
                                    <input type="email" id="rep2_correo" name="rep2_correo" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label for="rep2_religion" class="form-label">Religión <span class="optional-badge">Opcional</span></label>
                                    <input type="text" id="rep2_religion" name="rep2_religion" class="form-input">
                                </div>
                            </div>
                        </div>

                        <!-- Datos Laborales -->
                        <div class="sub-section">
                            <p class="sub-section-title">
                                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                                Información Laboral
                            </p>
                            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                                <div>
                                    <label for="rep2_profesion" class="form-label">Profesión</label>
                                    <input type="text" id="rep2_profesion" name="rep2_profesion" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_ocupacion" class="form-label">Ocupación</label>
                                    <input type="text" id="rep2_ocupacion" name="rep2_ocupacion" class="form-input">
                                </div>
                                <div>
                                    <label class="form-label">Empresa donde trabaja <span class="heredado-badge">Heredado</span></label>
                                    <input type="text" id="rep2_empresa" name="rep2_empresa" class="form-input readonly" readonly>
                                </div>
                                <div>
                                    <label class="form-label">Teléfono del Trabajo <span class="heredado-badge">Heredado</span></label>
                                    <input type="tel" id="rep2_tlf_ofic" name="rep2_tlf_ofic" class="form-input readonly" readonly>
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="rep2_dir_trabajo" class="form-label">Dirección del Trabajo</label>
                                    <input type="text" id="rep2_dir_trabajo" name="rep2_dir_trabajo" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_cp_trabajo" class="form-label">Código Postal del Trabajo <span class="optional-badge">Opcional</span></label>
                                    <input type="text" id="rep2_cp_trabajo" name="rep2_cp_trabajo" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_ciudad_trabajo" class="form-label">Ciudad del Trabajo</label>
                                    <input type="text" id="rep2_ciudad_trabajo" name="rep2_ciudad_trabajo" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_estado_trabajo" class="form-label">Estado del Trabajo</label>
                                    <input type="text" id="rep2_estado_trabajo" name="rep2_estado_trabajo" class="form-input">
                                </div>
                                <div>
                                    <label for="rep2_pais_trabajo" class="form-label">País del Trabajo</label>
                                    <select id="rep2_pais_trabajo" name="rep2_pais_trabajo" class="form-input">
                                        <option value="" disabled selected>Seleccione...</option>
                                        <option value="VE" selected>Venezuela</option>
                                        <option value="CO">Colombia</option>
                                        <option value="EC">Ecuador</option>
                                        <option value="PE">Perú</option>
                                        <option value="AR">Argentina</option>
                                        <option value="BR">Brasil</option>
                                        <option value="CL">Chile</option>
                                        <option value="MX">México</option>
                                        <option value="US">Estados Unidos</option>
                                        <option value="ES">España</option>
                                        <option value="OT">Otro</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ======================== -->
                <!-- PASO 4: RESUMEN          -->
                <!-- ======================== -->
                <div id="step-4" class="step-panel p-6 md:p-8">
                    <h2 class="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                        <svg class="h-5 w-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Resumen y Confirmación
                    </h2>
                    <p class="text-xs text-slate-500 mb-6">Revise los datos antes de enviar el formulario de inscripción.</p>

                    <div id="resumen-content">
                        <!-- Resumen estudiante -->
                        <div class="resumen-card">
                            <h4>Datos del Estudiante</h4>
                            <div class="resumen-item"><span class="label">Nombres:</span><span class="value" id="res-asp-nombres">-</span></div>
                            <div class="resumen-item"><span class="label">Apellidos:</span><span class="value" id="res-asp-apellidos">-</span></div>
                            <div class="resumen-item"><span class="label">Fecha de nacimiento:</span><span class="value" id="res-asp-fecha_nac">-</span></div>
                            <div class="resumen-item"><span class="label">Sexo:</span><span class="value" id="res-asp-sexo">-</span></div>
                            <div class="resumen-item"><span class="label">Grado:</span><span class="value" id="res-asp-grado">-</span></div>
                            <div class="resumen-item"><span class="label">Año Escolar:</span><span class="value" id="res-asp-anio_escolar">-</span></div>
                        </div>

                        <!-- Resumen representante principal -->
                        <div class="resumen-card">
                            <h4>Representante Principal</h4>
                            <div class="resumen-item"><span class="label">Nombres:</span><span class="value" id="res-rep1-nombres">-</span></div>
                            <div class="resumen-item"><span class="label">Apellidos:</span><span class="value" id="res-rep1-apellidos">-</span></div>
                            <div class="resumen-item"><span class="label">Cédula:</span><span class="value" id="res-rep1-cedula">-</span></div>
                            <div class="resumen-item"><span class="label">Correo:</span><span class="value" id="res-rep1-correo">-</span></div>
                            <div class="resumen-item"><span class="label">Celular:</span><span class="value" id="res-rep1-celular">-</span></div>
                        </div>

                        <!-- Resumen segundo representante -->
                        <div class="resumen-card" id="resumen-rep2" style="display:none;">
                            <h4>Segundo Representante</h4>
                            <div class="resumen-item"><span class="label">Nombres:</span><span class="value" id="res-rep2-nombres">-</span></div>
                            <div class="resumen-item"><span class="label">Apellidos:</span><span class="value" id="res-rep2-apellidos">-</span></div>
                            <div class="resumen-item"><span class="label">Cédula:</span><span class="value" id="res-rep2-cedula">-</span></div>
                            <div class="resumen-item"><span class="label">Correo:</span><span class="value" id="res-rep2-correo">-</span></div>
                        </div>

                    </div>

                    <!-- Confirmación -->
                    <div class="mt-8 p-4 bg-amber-50 border border-amber-200 rounded-xl flex gap-3">
                        <svg class="h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-xs text-amber-800 leading-relaxed">Al enviar este formulario, usted
                            <strong>certifica que todos los datos son verídicos</strong> y acepta que la institución los
                            utilizará exclusivamente para el proceso de inscripción escolar, en cumplimiento de las normas
                            de privacidad aplicables.
                        </p>
                    </div>
                </div>

                <!-- ======================== -->
                <!-- NAVIGATION FOOTER        -->
                <!-- ======================== -->
                <div class="flex items-center justify-between px-6 md:px-8 py-5 border-t border-slate-100 bg-slate-50">
                    <button type="button" id="btn-prev" class="btn-prev hidden" onclick="changeStep(-1)">←
                        Anterior</button>
                    <div class="flex-1"></div>
                    <button type="button" id="btn-next" class="btn-next" onclick="changeStep(1)">Siguiente →</button>
                    <button type="submit" id="btn-submit" class="btn-submit hidden" onclick="enviarInscripcion()">✓ Completar Inscripción</button>
                </div>

            </form>
        </div>

        <p class="text-center text-xs text-slate-400 mt-6">ERP Escolar LIDERA · Proceso de Inscripción</p>
    </div>

    <script>
        const TOTAL_STEPS = 4;
        const STEP_LABELS = [
            'Datos del Estudiante',
            'Representante Principal',
            'Segundo Representante',
            'Resumen y Confirmación'
        ];
        let currentStep = 1;

        function getGradoTexto(codigo) {
            const grados = {
                'mat': 'Maternal',
                'pre1': 'Preescolar Nivel I',
                'pre2': 'Preescolar Nivel II',
                'pre3': 'Preescolar Nivel III',
                'p1': '1er Grado',
                'p2': '2do Grado',
                'p3': '3er Grado',
                'p4': '4to Grado',
                'p5': '5to Grado',
                'p6': '6to Grado',
                'm1': '1er Año',
                'm2': '2do Año',
                'm3': '3er Año',
                'm4': '4to Año',
                'm5': '5to Año'
            };
            return grados[codigo] || codigo;
        }

        function renderProgressBar() {
            const bar = document.getElementById('progress-bar');
            bar.innerHTML = '';
            for (let i = 1; i <= TOTAL_STEPS; i++) {
                const pill = document.createElement('div');
                pill.className = 'step-pill';
                if (i < currentStep) { pill.className += ' done'; pill.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>`; }
                else if (i === currentStep) { pill.className += ' active'; pill.textContent = i; }
                else { pill.textContent = i; }
                pill.title = STEP_LABELS[i - 1];
                bar.appendChild(pill);
                if (i < TOTAL_STEPS) {
                    const conn = document.createElement('div');
                    conn.className = 'step-connector' + (i < currentStep ? ' done' : '');
                    bar.appendChild(conn);
                }
            }
            document.getElementById('step-label').textContent = `Paso ${currentStep} de ${TOTAL_STEPS}: ${STEP_LABELS[currentStep - 1]}`;
        }

        function showStep(step) {
            document.querySelectorAll('.step-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(`step-${step}`).classList.add('active');
            const prevBtn = document.getElementById('btn-prev');
            const nextBtn = document.getElementById('btn-next');
            const submitBtn = document.getElementById('btn-submit');
            prevBtn.classList.toggle('hidden', step === 1);
            nextBtn.classList.toggle('hidden', step === TOTAL_STEPS);
            submitBtn.classList.toggle('hidden', step !== TOTAL_STEPS);
            renderProgressBar();
            
            if (step === 5) {
                actualizarResumen();
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function changeStep(direction) {
            const newStep = currentStep + direction;
            if (newStep < 1 || newStep > TOTAL_STEPS) return;
            currentStep = newStep;
            showStep(currentStep);
        }

        function toggleRep2(checked) {
            const fields = document.getElementById('rep2-fields');
            fields.classList.toggle('hidden', !checked);
        }

        function calcularEdad(fechaNacimiento) {
            if (!fechaNacimiento) return '';
            const today = new Date();
            const birthDate = new Date(fechaNacimiento);
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age + ' años';
        }

        function cargarDatosHeredados() {
            const data = JSON.parse(localStorage.getItem('solicitud_cupo_data') || '{}');
            
            if (Object.keys(data).length === 0) {
                alert('No se encontraron datos de la solicitud de cupo. Por favor complete primero el formulario de solicitud de cupo.');
                window.location.href = 'wireframe_solicitud.html';
                return;
            }

            // Datos del estudiante
            if (data.asp_nombres) document.getElementById('asp_nombres').value = data.asp_nombres;
            if (data.asp_apellidos) document.getElementById('asp_apellidos').value = data.asp_apellidos;
            if (data.asp_fecha_nac) {
                document.getElementById('asp_fecha_nac').value = data.asp_fecha_nac;
                document.getElementById('asp_edad').value = calcularEdad(data.asp_fecha_nac);
            }
            if (data.asp_sexo) {
                const sexoRadios = document.querySelectorAll('input[name="asp_sexo"]');
                sexoRadios.forEach(radio => {
                    if (radio.value === data.asp_sexo) radio.checked = true;
                });
            }
            if (data.asp_grado) document.getElementById('asp_grado').value = getGradoTexto(data.asp_grado);

            // Datos representante principal
            if (data.rep1_nacionalidad) document.getElementById('rep1_nacionalidad').value = data.rep1_nacionalidad;
            if (data.rep1_cedula) document.getElementById('rep1_cedula').value = data.rep1_cedula;
            if (data.rep1_nombres) document.getElementById('rep1_nombres').value = data.rep1_nombres;
            if (data.rep1_apellidos) document.getElementById('rep1_apellidos').value = data.rep1_apellidos;
            if (data.rep1_fecha_nac) {
                document.getElementById('rep1_fecha_nac').value = data.rep1_fecha_nac;
                document.getElementById('rep1_edad').value = calcularEdad(data.rep1_fecha_nac);
            }
            if (data.rep1_direccion) document.getElementById('rep1_direccion').value = data.rep1_direccion;
            if (data.rep1_tlf_hab) document.getElementById('rep1_tlf_hab').value = data.rep1_tlf_hab;
            if (data.rep1_celular) document.getElementById('rep1_celular').value = data.rep1_celular;
            if (data.rep1_correo) document.getElementById('rep1_correo').value = data.rep1_correo;
            if (data.rep1_profesion) document.getElementById('rep1_profesion').value = data.rep1_profesion;
            if (data.rep1_empresa) document.getElementById('rep1_empresa').value = data.rep1_empresa;
            if (data.rep1_tlf_ofic) document.getElementById('rep1_tlf_ofic').value = data.rep1_tlf_ofic;

            // Datos segundo representante
            if (data.tiene_segundo_representante) {
                document.getElementById('toggle-rep2').checked = true;
                toggleRep2(true);
            }
            if (data.rep2_nacionalidad) document.getElementById('rep2_nacionalidad').value = data.rep2_nacionalidad;
            if (data.rep2_cedula) document.getElementById('rep2_cedula').value = data.rep2_cedula;
            if (data.rep2_nombres) document.getElementById('rep2_nombres').value = data.rep2_nombres;
            if (data.rep2_apellidos) document.getElementById('rep2_apellidos').value = data.rep2_apellidos;
            if (data.rep2_fecha_nac) {
                document.getElementById('rep2_fecha_nac').value = data.rep2_fecha_nac;
                document.getElementById('rep2_edad').value = calcularEdad(data.rep2_fecha_nac);
            }
            if (data.rep2_direccion) document.getElementById('rep2_direccion').value = data.rep2_direccion;
            if (data.rep2_tlf_hab) document.getElementById('rep2_tlf_hab').value = data.rep2_tlf_hab;
            if (data.rep2_celular) document.getElementById('rep2_celular').value = data.rep2_celular;
            if (data.rep2_correo) document.getElementById('rep2_correo').value = data.rep2_correo;
            if (data.rep2_profesion) document.getElementById('rep2_profesion').value = data.rep2_profesion;
            if (data.rep2_empresa) document.getElementById('rep2_empresa').value = data.rep2_empresa;
            if (data.rep2_tlf_ofic) document.getElementById('rep2_tlf_ofic').value = data.rep2_tlf_ofic;
        }

        function actualizarResumen() {
            // Estudiante
            document.getElementById('res-asp-nombres').textContent = document.getElementById('asp_nombres').value || '-';
            document.getElementById('res-asp-apellidos').textContent = document.getElementById('asp_apellidos').value || '-';
            document.getElementById('res-asp-fecha_nac').textContent = document.getElementById('asp_fecha_nac').value || '-';
            const sexo = document.querySelector('input[name="asp_sexo"]:checked');
            document.getElementById('res-asp-sexo').textContent = sexo ? (sexo.value === 'M' ? 'Masculino' : 'Femenino') : '-';
            document.getElementById('res-asp-grado').textContent = document.getElementById('asp_grado').value || '-';
            document.getElementById('res-asp-anio_escolar').textContent = document.getElementById('asp_anio_escolar').value || '-';

            // Rep 1
            document.getElementById('res-rep1-nombres').textContent = document.getElementById('rep1_nombres').value || '-';
            document.getElementById('res-rep1-apellidos').textContent = document.getElementById('rep1_apellidos').value || '-';
            document.getElementById('res-rep1-cedula').textContent = (document.getElementById('rep1_nacionalidad').value || '') + '-' + (document.getElementById('rep1_cedula').value || '-');
            document.getElementById('res-rep1-correo').textContent = document.getElementById('rep1_correo').value || '-';
            document.getElementById('res-rep1-celular').textContent = document.getElementById('rep1_celular').value || '-';

            // Rep 2
            const tieneRep2 = document.getElementById('toggle-rep2').checked;
            document.getElementById('resumen-rep2').style.display = tieneRep2 ? 'block' : 'none';
            if (tieneRep2) {
                document.getElementById('res-rep2-nombres').textContent = document.getElementById('rep2_nombres').value || '-';
                document.getElementById('res-rep2-apellidos').textContent = document.getElementById('rep2_apellidos').value || '-';
                document.getElementById('res-rep2-cedula').textContent = (document.getElementById('rep2_nacionalidad').value || '') + '-' + (document.getElementById('rep2_cedula').value || '-');
                document.getElementById('res-rep2-correo').textContent = document.getElementById('rep2_correo').value || '-';
            }

        }

        function enviarInscripcion() {
            const form = document.getElementById('multi-step-form');
            const formData = new FormData(form);
            const data = {};
            
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            // Manejar radios
            const aspSexo = document.querySelector('input[name="asp_sexo"]:checked');
            if (aspSexo) data.asp_sexo = aspSexo.value;
            
            const rep1Sexo = document.querySelector('input[name="rep1_sexo"]:checked');
            if (rep1Sexo) data.rep1_sexo = rep1Sexo.value;
            
            const rep2Sexo = document.querySelector('input[name="rep2_sexo"]:checked');
            if (rep2Sexo) data.rep2_sexo = rep2Sexo.value;
            
            data.tiene_segundo_representante = document.getElementById('toggle-rep2').checked;
            
            localStorage.setItem('inscripcion_data', JSON.stringify(data));
            
            alert('¡Inscripción completada exitosamente! Los datos han sido guardados.');
            
            console.log('Datos de inscripción:', data);
        }

        // Event listeners para calcular edad automáticamente
        document.getElementById('asp_fecha_nac').addEventListener('change', function() {
            document.getElementById('asp_edad').value = calcularEdad(this.value);
        });

        document.getElementById('rep1_fecha_nac').addEventListener('change', function() {
            document.getElementById('rep1_edad').value = calcularEdad(this.value);
        });

        document.getElementById('rep2_fecha_nac').addEventListener('change', function() {
            document.getElementById('rep2_edad').value = calcularEdad(this.value);
        });

        // Init
        renderProgressBar();
        showStep(1);
        cargarDatosHeredados();
    </script>
</body>

</html>
